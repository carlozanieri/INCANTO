(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4177],{45267:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r={};n.r(r),n.d(r,{getAPICredentials:function(){return b}});var o=n(59713),a=n.n(o),c=n(67154),i=n.n(c),u=n(27361),p=n.n(u),s=n(66879),l=n.n(s),d=n(55168),f=n(37424),g=n(43211),m=n(23946),y=n(72509),v=(n(45697),n(50576)),h=n(2631),k=function(e){var t,n=e.location,r=void 0===n?{}:n,o=(null==r||null===(t=r.state)||void 0===t?void 0:t.prevPath)||"",a=(0,d.k6)(),c={ecommerce:"/setup/checkout/home",integration:"/setup/checkout/home",apicredentials:"/setup/checkout/integration",instructions:"/setup/checkout/ecommerce",home:"/businesstools/acceptpayments/checkout",advanced:"/setup/checkout/integration",completeflow:"/setup/checkout/home"},i=r&&r.pathname?r.pathname.split("/").slice(-1)[0]:"";(0,s.useEffect)((function(){return window.addEventListener("beforeunload",u),function(){window.removeEventListener("beforeunload",u)}}),[]);var u=function(){window.history.replaceState({},document.title)};return l().createElement("div",{className:"back-button-container"},l().createElement("div",{className:"back-button"},l().createElement(y.JO$,{size:"md",className:"back-button-icon",name:"chevron-left"}),l().createElement(m.Ac,{size:"lg",medium:!0,className:"back-button-text",as:"button",style:{border:"none",color:"#0070ba"},onClick:function(){o&&!o.includes("collection/no-website-apps")?a.goBack():a.push(c[i])}},h.YL[i]?(0,v.Z)("setup","".concat(h.YL[i]),""):(0,v.Z)("setup","back",""))))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()(e,"error.errorCode"),n=p()(e,"warning"),r=["disabledCredentials","apiCredentialsConfirmEmail"];return n||t&&r.includes(t)||(e.error={errorCode:"apiCredentialsError"}),{type:"API_CREDENTIALS_ERROR",error:e.error,warning:e.warning,value:e.credentials||{}}},b=function(e){return function(t){return fetch("/merchantapps/api/v1/apicredentials",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":e}}).then((function(e){return e.ok?e.json():Promise.reject(e.json())})).then((function(e){return e&&e.credentials&&!e.error?t({type:"API_CREDENTIALS_SUCCESS",value:e.credentials}):t(_(e))})).catch((function(e){return t(_(e))}))}},O=n(60358),E=n(58055),P=n(87507),w=n(94184),j=n.n(w);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=(0,f.$j)((function(e){var t="merchanthubnodeweb",n=p()(e,"appcenter.psData",{});return{app:p()(e,"app",{}),fptiClick:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.pageLink,o=void 0===r?"":r,a=n.fptiLink,c=void 0===a?"":a,i=n.pgrp,u=void 0===i?"":i,s={page:"merchanthub:setup:"+"".concat(u)+"".concat(o),pgrp:"merchanthub:setup:"+"".concat(u),link:c},l=I({custId:p()(e,"app.custId"),acct_cntry:p()(e,"app.legalCountry"),comp:t},(0,E.Y1)({options:n,pageLink:o}));(0,O.recordClick)(s,l)},fptiImpression:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.pageLink,o=void 0===r?"":r,a=n.pgrp,c=void 0===a?"":a,i=n.partner_name,u=void 0===i?"":i,s=n.category,l=void 0===s?"":s,d={page:"merchanthub:setup:"+"".concat(c)+"".concat(o),pgrp:"merchanthub:setup:"+"".concat(c)};u&&(d.partner_name=u),l&&(d.category=l);var f=I({custId:p()(e,"app.custId"),acct_cntry:p()(e,"app.legalCountry"),comp:t},(0,E.Fu)({options:n}));(0,O.recordImpression)(I(I({},f),(0,P.We)()),d)},metadata:p()(e,"metadata",{}),user:p()(e,"user",{}),experimentation:p()(e,"experimentation",{}),setup:p()(e,"setup",{}),psData:n}}),(function(e){return I(I({},r),{},{dispatch:e})}))((function(e){var t=e.experimentation,n=void 0===t?{}:t,r=e.location,o=void 0===r?{}:r,a=n.isInBtnTrmt,c=n.isInDevTrmt,u=n.isDynamicLayoutTrmt,p=a||c||u;return n.isCheckoutNewPartnerLayout?l().createElement("div",{className:"bg-container",style:{backgroundColor:"#FAF8F5"}},l().createElement("div",{className:j()("main-container",{original:!p,partner:!p,button:p}),style:{backgroundColor:"#FAF8F5"}},l().createElement("div",{id:"setup-container"},l().createElement(k,i()({location:o},e)),l().createElement(d.rs,null,g.Z.map((function(t,n){return l().createElement(d.AW,{key:"route-".concat(n),exact:t.isExact,path:t.path,render:function(){return l().createElement(t.pageName,e)}})})))))):l().createElement("div",{className:j()("main-container",{original:!p,partner:!p,button:p})},l().createElement("div",{id:"setup-container"},l().createElement(k,i()({location:o},e)),l().createElement(d.rs,null,g.Z.map((function(t,n){return l().createElement(d.AW,{key:"route-".concat(n),exact:t.isExact,path:t.path,render:function(){return l().createElement(t.pageName,e)}})})))))}))},58055:function(e,t,n){"use strict";n.d(t,{Pg:function(){return m},l0:function(){return y},js:function(){return v},Xs:function(){return k},Fu:function(){return _},yr:function(){return b},kM:function(){return O},wR:function(){return E},Y1:function(){return P},zU:function(){return w},cr:function(){return j}});var r=n(59713),o=n.n(r),a=(n(48871),n(28522)),c=n(70842),i=n(2631);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s="partners",l=i.Tw.AMPLITUDE_PRODUCT,d=i.Tw.AMPLITUDE_EVENT_PROPS,f=i.Tw.MAIN_IMPRESSION,g=(i.Tw.CATEGORY_IMPRESSION,i.Tw.DETAIL_IMPRESSION),m=function(e,t){var n,r,o=t.detailsSlug,c=t.categorySlug,i="main:merchanthub:appcenter";return o?(n=Object.values(e.tools).find((function(e){return e.location===o})))?i+=":".concat(n.appFPTI):a.u.warn("Tool not found for the detail slug",o):c?(r=Object.values(e.categories).find((function(e){return e.location===c})))?i+=":".concat(r.categoryFPTI):a.u.warn("Category not found for the category slug",c):i+=":main",{tool:n,category:r,pgrp:i}},y=function(e){return void 0!==(null==e?void 0:e.type)?":".concat(e.type):""},v=function(e,t){"undefined"!=typeof window&&(window.feedback=p({pgrp:t,page:t},e&&{prod:e.appFPTI}))},h=function(e){var t=e.options,n=e.category,r=e.fptiLink,o=e.tool,a=e.pageLink;return n?(null==n?void 0:n.categoryKey)||"":"viewall"===r?a:"get_started"===r?(null==o?void 0:o.categoryKey)||"":"parent"===t.category?r:""},k=function(e){var t;return p({},e.amplitude&&{product:l,event_props:d,referrer:(null===(t=document)||void 0===t?void 0:t.referrer)||""})},_=function(e){var t=e.options,n=e.category,r=e.fptiLink,o=e.tool,a=e.pageLink;return p({},t.amplitude&&p(p({},k(t)),{},{event_name:t.event_name,app_category:h({options:t,category:n,fptiLink:r,tool:o,pageLink:a})}))},b=function(e){return p(p(p(p(p(p(p(p({},e.prod&&{prod:e.prod}),e.category&&{category:e.category}),e.type&&{type:e.type}),e.utm_source&&{utm_source:e.utm_source}),e.utm_medium&&{utm_medium:e.utm_medium}),e.utm_content&&{utm_content:e.utm_content}),e.utm_campaign&&{utm_campaign:e.utm_campaign}),e.partner_name&&{partner_name:e.partner_name})},O=function(e){return p({},e&&{prod:e.appFPTI,rank:(0,c.wX)(e)})},E=function(e){return p({},e.categoryRank&&{rank:(0,c.wX)(e)})},P=function(e){var t=e.tool,n=e.options,r=e.pageLink,o=e.pathname,a=e.category,c=e.fptiLink;return p(p(p(p(p(p(p({},O(t)),E(n)),b(n)),r===s&&n.prod&&{partner_name:n.prod}),t&&o.includes(s)&&{partner_name:t.appFPTI}),r.includes("search")&&{srch:n.srch||"",result:n.result||""}),_({options:n,category:a,fptiLink:c,tool:t,pageLink:r}))},w=function(e,t,n){t.pageLink.includes("search")&&(e.page.includes("search")||(e.page="".concat(e.page,":").concat(n?"search_modal":"search")),e.pgrp.includes("search")||(e.pgrp="".concat(e.pgrp,":").concat(n?"search_modal":"search")))},j=function(e,t){var n=t.options,r=t.detailsSlug,o=t.category,a=t.tool,c=t.pathname;r&&a&&c.includes("/partners")&&(e.partner_name=a.appFPTI),n.amplitude&&(e.event_name=n.event_name||function(e,t){return e?g:f}(a),e.app_category=(null==o?void 0:o.categoryKey)||(null==a?void 0:a.categoryKey)||"")}},70842:function(e,t,n){"use strict";n.d(t,{wX:function(){return d},vZ:function(){return g},CF:function(){return m}});var r=n(59713),o=n.n(r),a=n(319),c=n.n(a);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={"3.0":"high","2.0":"middle","1.0":"low"},s=function(e){return e>=-2&&e<=3},l=function(e,t){var n;return("1.0"!==t&&p[t]||"1.0"===t&&1!==e)&&(n=p[t]),n},d=function(e){var t=e.rank,n=e.appKey,r=void 0===n?"":n,o=e.priorityScore,a=void 0===o?"":o,c=e.categoryRank,i=e.sectionRank,u=e.intentRank;if(!t)return"";var p={app_key:r,rank:t},d=l(t,a);if(d)p.ranking_tier=d;else{var f=parseFloat(a);s(f)&&(p.score=f)}return c&&(p.category_rank=c),i&&(p.section_rank=i),u&&(p.intent_rank=u),JSON.stringify(p)},f=function(e){var t=e.appArray,n=void 0===t?[]:t,r=e.isCategoryPage,o=void 0!==r&&r,a=e.isRecommended,c=void 0!==a&&a,i={};return n.forEach((function(e){var t=e.appFPTI,n=e.appKey,r=e.rank,a=e.priorityScore,u=e.categoryKey,p=e.sectionKey;if(t&&r){i[t]={app_key:n,rank:r};var d=l(r,a);if(d)i[t].ranking_tier=d;else{var f=parseFloat(a);s(f)&&(i[t].score=f)}!o&&c?i[t].category="recommended_for_you":!o&&u&&(i[t].category=u),o&&p&&(i[t].section=p)}})),i},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.categories,r=void 0===n?[]:n,o=t.intentToolsDisplayed,a=void 0===o?[]:o,i=a.length?{we_think_you_might_like:{rank:0}}:{recommended_for_you:{rank:0}},p={app_ranking:{},category_ranking:i},s=[];return r.forEach((function(e){var t=e.featured,n=void 0===t?[]:t,r=e.content,o=void 0===r?{}:r;s.push.apply(s,c()(n)),p.category_ranking[o.categoryFPTI]={rank:o.rank}})),p.app_ranking=f({appArray:e,isRecommended:!0}),p.app_ranking=u(u({},p.app_ranking),f({appArray:s})),JSON.stringify(p)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.categories,r=void 0===n?[]:n,o=r.find((function(t){return t.content.categoryKey===e.categoryKey}))||{},a=o.sections,i=o.tools,u=void 0===i?[]:i,p={app_ranking:{},section_ranking:{}},s=c()(u);return Array.isArray(a)&&a.forEach((function(e){var t=e.tools,n=void 0===t?[]:t,r=e.content,o=void 0===r?{}:r;s.push.apply(s,c()(n)),p.section_ranking[o.sectionKey]={rank:o.rank}})),p.app_ranking=f({appArray:s,isCategoryPage:!0}),JSON.stringify(p)}},48871:function(){}}]);
//# sourceMappingURL=SetUps.cjs.js.map