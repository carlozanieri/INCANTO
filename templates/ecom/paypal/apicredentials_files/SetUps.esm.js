(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4177],{45267:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n={};r.r(n),r.d(n,{getAPICredentials:function(){return b}});var a=r(59713),o=r.n(a),c=r(67154),i=r.n(c),p=r(27361),u=r.n(p),s=r(66879),l=r.n(s),g=r(55168),m=r(37424),d=r(43211),y=r(23946),f=r(72509),v=(r(45697),r(50576)),h=r(2631),k=e=>{var t,{location:r={}}=e,n=(null==r||null===(t=r.state)||void 0===t?void 0:t.prevPath)||"",a=(0,g.k6)(),o={ecommerce:"/setup/checkout/home",integration:"/setup/checkout/home",apicredentials:"/setup/checkout/integration",instructions:"/setup/checkout/ecommerce",home:"/businesstools/acceptpayments/checkout",advanced:"/setup/checkout/integration",completeflow:"/setup/checkout/home"},c=r&&r.pathname?r.pathname.split("/").slice(-1)[0]:"";(0,s.useEffect)((()=>(window.addEventListener("beforeunload",i),()=>{window.removeEventListener("beforeunload",i)})),[]);var i=()=>{window.history.replaceState({},document.title)};return l().createElement("div",{className:"back-button-container"},l().createElement("div",{className:"back-button"},l().createElement(f.JO$,{size:"md",className:"back-button-icon",name:"chevron-left"}),l().createElement(y.Ac,{size:"lg",medium:!0,className:"back-button-text",as:"button",style:{border:"none",color:"#0070ba"},onClick:()=>{n&&!n.includes("collection/no-website-apps")?a.goBack():a.push(o[c])}},h.YL[c]?(0,v.Z)("setup","".concat(h.YL[c]),""):(0,v.Z)("setup","back",""))))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u()(e,"error.errorCode"),r=u()(e,"warning"),n=["disabledCredentials","apiCredentialsConfirmEmail"];return r||t&&n.includes(t)||(e.error={errorCode:"apiCredentialsError"}),{type:"API_CREDENTIALS_ERROR",error:e.error,warning:e.warning,value:e.credentials||{}}},b=e=>t=>fetch("/merchantapps/api/v1/apicredentials",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":e}}).then((e=>e.ok?e.json():Promise.reject(e.json()))).then((e=>e&&e.credentials&&!e.error?t({type:"API_CREDENTIALS_SUCCESS",value:e.credentials}):t(_(e)))).catch((e=>t(_(e)))),O=r(60358),E=r(58055),P=r(87507),w=r(94184),j=r.n(w);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=(0,m.$j)((function(e){var t="merchanthubnodeweb",r=u()(e,"appcenter.psData",{});return{app:u()(e,"app",{}),fptiClick:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pageLink:n="",fptiLink:a="",pgrp:o=""}=r,c={page:"merchanthub:setup:"+"".concat(o)+"".concat(n),pgrp:"merchanthub:setup:"+"".concat(o),link:a},i=I({custId:u()(e,"app.custId"),acct_cntry:u()(e,"app.legalCountry"),comp:t},(0,E.Y1)({options:r,pageLink:n}));(0,O.recordClick)(c,i)},fptiImpression:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pageLink:n="",pgrp:a="",partner_name:o="",category:c=""}=r,i={page:"merchanthub:setup:"+"".concat(a)+"".concat(n),pgrp:"merchanthub:setup:"+"".concat(a)};o&&(i.partner_name=o),c&&(i.category=c);var p=I({custId:u()(e,"app.custId"),acct_cntry:u()(e,"app.legalCountry"),comp:t},(0,E.Fu)({options:r}));(0,O.recordImpression)(I(I({},p),(0,P.We)()),i)},metadata:u()(e,"metadata",{}),user:u()(e,"user",{}),experimentation:u()(e,"experimentation",{}),setup:u()(e,"setup",{}),psData:r}}),(function(e){return I(I({},n),{},{dispatch:e})}))((e=>{var{experimentation:t={},location:r={}}=e,{isInBtnTrmt:n,isInDevTrmt:a,isDynamicLayoutTrmt:o,isCheckoutNewPartnerLayout:c}=t,p=n||a||o;return c?l().createElement("div",{className:"bg-container",style:{backgroundColor:"#FAF8F5"}},l().createElement("div",{className:j()("main-container",{original:!p,partner:!p,button:p}),style:{backgroundColor:"#FAF8F5"}},l().createElement("div",{id:"setup-container"},l().createElement(k,i()({location:r},e)),l().createElement(g.rs,null,d.Z.map(((t,r)=>l().createElement(g.AW,{key:"route-".concat(r),exact:t.isExact,path:t.path,render:()=>l().createElement(t.pageName,e)}))))))):l().createElement("div",{className:j()("main-container",{original:!p,partner:!p,button:p})},l().createElement("div",{id:"setup-container"},l().createElement(k,i()({location:r},e)),l().createElement(g.rs,null,d.Z.map(((t,r)=>l().createElement(g.AW,{key:"route-".concat(r),exact:t.isExact,path:t.path,render:()=>l().createElement(t.pageName,e)}))))))}))},58055:function(e,t,r){"use strict";r.d(t,{Pg:function(){return f},l0:function(){return v},js:function(){return h},Xs:function(){return _},Fu:function(){return b},yr:function(){return O},kM:function(){return E},wR:function(){return P},Y1:function(){return w},zU:function(){return j},cr:function(){return L}});var n=r(59713),a=r.n(n),o=(r(48871),r(28522)),c=r(70842),i=r(2631);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s="partners",{AMPLITUDE_PRODUCT:l,AMPLITUDE_EVENT_PROPS:g,MAIN_IMPRESSION:m,CATEGORY_IMPRESSION:d,DETAIL_IMPRESSION:y}=i.Tw,f=(e,t)=>{var r,n,{detailsSlug:a,categorySlug:c}=t,i="main:merchanthub:appcenter";return a?(r=Object.values(e.tools).find((e=>{var{location:t}=e;return t===a})))?i+=":".concat(r.appFPTI):o.u.warn("Tool not found for the detail slug",a):c?(n=Object.values(e.categories).find((e=>{var{location:t}=e;return t===c})))?i+=":".concat(n.categoryFPTI):o.u.warn("Category not found for the category slug",c):i+=":main",{tool:r,category:n,pgrp:i}},v=e=>void 0!==(null==e?void 0:e.type)?":".concat(e.type):"",h=(e,t)=>{"undefined"!=typeof window&&(window.feedback=u({pgrp:t,page:t},e&&{prod:e.appFPTI}))},k=e=>{var{options:t,category:r,fptiLink:n,tool:a,pageLink:o}=e;return r?(null==r?void 0:r.categoryKey)||"":"viewall"===n?o:"get_started"===n?(null==a?void 0:a.categoryKey)||"":"parent"===t.category?n:""},_=e=>{var t;return u({},e.amplitude&&{product:l,event_props:g,referrer:(null===(t=document)||void 0===t?void 0:t.referrer)||""})},b=e=>{var{options:t,category:r,fptiLink:n,tool:a,pageLink:o}=e;return u({},t.amplitude&&u(u({},_(t)),{},{event_name:t.event_name,app_category:k({options:t,category:r,fptiLink:n,tool:a,pageLink:o})}))},O=e=>u(u(u(u(u(u(u(u({},e.prod&&{prod:e.prod}),e.category&&{category:e.category}),e.type&&{type:e.type}),e.utm_source&&{utm_source:e.utm_source}),e.utm_medium&&{utm_medium:e.utm_medium}),e.utm_content&&{utm_content:e.utm_content}),e.utm_campaign&&{utm_campaign:e.utm_campaign}),e.partner_name&&{partner_name:e.partner_name}),E=e=>u({},e&&{prod:e.appFPTI,rank:(0,c.wX)(e)}),P=e=>u({},e.categoryRank&&{rank:(0,c.wX)(e)}),w=e=>{var{tool:t,options:r,pageLink:n,pathname:a,category:o,fptiLink:c}=e;return u(u(u(u(u(u(u({},E(t)),P(r)),O(r)),n===s&&r.prod&&{partner_name:r.prod}),t&&a.includes(s)&&{partner_name:t.appFPTI}),n.includes("search")&&{srch:r.srch||"",result:r.result||""}),b({options:r,category:o,fptiLink:c,tool:t,pageLink:n}))},j=(e,t,r)=>{var{pageLink:n}=t;n.includes("search")&&(e.page.includes("search")||(e.page="".concat(e.page,":").concat(r?"search_modal":"search")),e.pgrp.includes("search")||(e.pgrp="".concat(e.pgrp,":").concat(r?"search_modal":"search")))},L=(e,t)=>{var{options:r,detailsSlug:n,category:a,tool:o,pathname:c}=t;n&&o&&c.includes("/partners")&&(e.partner_name=o.appFPTI),r.amplitude&&(e.event_name=r.event_name||((e,t)=>e?y:m)(o),e.app_category=(null==a?void 0:a.categoryKey)||(null==o?void 0:o.categoryKey)||"")}},70842:function(e,t,r){"use strict";r.d(t,{wX:function(){return s},vZ:function(){return g},CF:function(){return m}});var n=r(59713),a=r.n(n);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i={"3.0":"high","2.0":"middle","1.0":"low"},p=e=>e>=-2&&e<=3,u=(e,t)=>{var r;return("1.0"!==t&&i[t]||"1.0"===t&&1!==e)&&(r=i[t]),r},s=e=>{var{rank:t,appKey:r="",priorityScore:n="",categoryRank:a,sectionRank:o,intentRank:c}=e;if(!t)return"";var i={app_key:r,rank:t},s=u(t,n);if(s)i.ranking_tier=s;else{var l=parseFloat(n);p(l)&&(i.score=l)}return a&&(i.category_rank=a),o&&(i.section_rank=o),c&&(i.intent_rank=c),JSON.stringify(i)},l=e=>{var{appArray:t=[],isCategoryPage:r=!1,isRecommended:n=!1}=e,a={};return t.forEach((e=>{var{appFPTI:t,appKey:o,rank:c,priorityScore:i,categoryKey:s,sectionKey:l}=e;if(t&&c){a[t]={app_key:o,rank:c};var g=u(c,i);if(g)a[t].ranking_tier=g;else{var m=parseFloat(i);p(m)&&(a[t].score=m)}!r&&n?a[t].category="recommended_for_you":!r&&s&&(a[t].category=s),r&&l&&(a[t].section=l)}})),a},g=function(e){var{categories:t=[],intentToolsDisplayed:r=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.length?{we_think_you_might_like:{rank:0}}:{recommended_for_you:{rank:0}},a={app_ranking:{},category_ranking:n},o=[];return t.forEach((e=>{var{featured:t=[],content:r={}}=e;o.push(...t),a.category_ranking[r.categoryFPTI]={rank:r.rank}})),a.app_ranking=l({appArray:e,isRecommended:!0}),a.app_ranking=c(c({},a.app_ranking),l({appArray:o})),JSON.stringify(a)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{categories:t=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.find((t=>{var{content:r}=t;return r.categoryKey===e.categoryKey}))||{},{sections:n,tools:a=[]}=r,o={app_ranking:{},section_ranking:{}},c=[...a];return Array.isArray(n)&&n.forEach((e=>{var{tools:t=[],content:r={}}=e;c.push(...t),o.section_ranking[r.sectionKey]={rank:r.rank}})),o.app_ranking=l({appArray:c,isCategoryPage:!0}),JSON.stringify(o)}},48871:function(){}}]);
//# sourceMappingURL=SetUps.esm.js.map